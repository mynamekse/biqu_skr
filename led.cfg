[neopixel my_led_strip]
pin: PE6
chain_count: 3
color_order: GRB
initial_RED: 1.0
initial_GREEN: 1.0
initial_BLUE: 1.0
initial_WHITE: 0.0




[gcode_macro TOGGLE_LED]
description: ปุ่ม toggle เปิด/ปิดไฟ LED
variable_led_state: 0
gcode:
    {% if printer["gcode_macro TOGGLE_LED"].led_state == 0 %}
        SET_LED LED=my_led_strip RED=1.0 GREEN=1.0 BLUE=1.0 WHITE=0.0
        SET_GCODE_VARIABLE MACRO=TOGGLE_LED VARIABLE=led_state VALUE=1
    {% else %}
        SET_LED LED=my_led_strip RED=0.0 GREEN=0.0 BLUE=0.0 WHITE=0.0
        SET_GCODE_VARIABLE MACRO=TOGGLE_LED VARIABLE=led_state VALUE=0
    {% endif %}

